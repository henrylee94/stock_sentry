# 🧠 GEEWONI AI 交易大脑 v7.0

## ✨ 今日完成功能 (Today's Features)

### 1. 🤖 AI 学习系统 (AI Learning System)
AI 会自动学习你的交易习惯并优化推荐:

**AI 学到什么:**
- ✅ 哪个 RSI 范围最成功 (例如: 45-55 胜率最高)
- ✅ 最佳成交量倍数 (例如: >2x 更容易成功)
- ✅ 哪个策略最赚钱 (EMA Crossover vs Volume Breakout)
- ✅ 你喜欢跟随哪种推荐

**如何运作:**
1. AI 分析股票时，自动记录推荐 (入场/目标/止损价格)
2. 当你执行 `buy` 指令，系统检查是否跟随了 AI 推荐
3. 当你执行 `sell` 平仓，系统记录盈亏结果
4. AI 学习成功模式，下次推荐会更精准

**查看 AI 学习结果:**
```
/learn
```
会显示:
- 推荐总数和跟随率
- 推荐成功率
- AI 学到的最佳参数 (RSI, 成交量, 策略)
- 成功模式数量

---

### 2. 📊 完整交易追踪系统

**买入交易:**
```
buy NVDA 145.50 10 EMA Crossover
```
- 股票代码: NVDA
- 价格: $145.50
- 数量: 10 股
- 策略: EMA Crossover

如果这个价格接近 AI 刚才推荐的，会显示 "🤖 跟随 AI 推荐"

**卖出交易:**
```
sell NVDA 150.25
```
- 自动找到对应的开仓交易
- 计算盈亏和百分比
- 更新策略表现
- 更新 AI 学习数据
- 更新本周盈亏

---

### 3. 📈 高级技术分析

每个股票分析包含:
- ✅ 当前价格和趋势 (强势看涨/看跌)
- ✅ EMA 9, 21, 50
- ✅ RSI 指标 (超买超卖)
- ✅ 今日高/低点
- ✅ 本周高/低点
- ✅ 支撑位和阻力位
- ✅ 成交量比率 (是否放量)

---

### 4. 🎯 策略表现追踪

```
/strategies
```
查看每个策略的:
- 胜率 (%)
- 盈利次数 / 总交易数
- 总盈亏 ($)

AI 会优先推荐你胜率最高的策略!

---

### 5. 📋 快速操作按钮

AI 分析完股票后，会显示:
- 🟢 **买入 NVDA** - 点击后提示输入价格
- 👀 **观察 NVDA** - 添加到观察列表

买入后会显示:
- 💵 **卖出 NVDA** - 快速平仓

---

### 6. 🌅 早盘摘要 (Morning Summary)

```
/morning
```
AI 会分析你的重点股票并生成:
- 🔥 今日 3 只最值得关注的股票
- 💡 为什么值得关注 (趋势、成交量、RSI)
- 📝 操作建议 (买入/观察/等待)
- 📊 市场情绪总结

**最佳使用时间:** 美股开盘前 30 分钟 (马来西亚时间 9:00 PM)

---

### 7. 🇨🇳 中文优化

- 所有分析报告用中文
- 简短直接，不啰嗦
- 命令保持英文 (容易记)
- AI 响应格式专业

---

## 📱 所有命令 (All Commands)

```
/start       - 开始 / 查看状态
/stats       - 交易统计 (胜率, 盈亏)
/learn       - AI 学习报告 🆕
/strategies  - 策略表现
/positions   - 当前持仓
/morning     - 早盘摘要
/usage       - AI 使用量
/win         - 手动记录盈利 (+$250)
/loss        - 手动记录亏损 (-$100)
```

---

## 💬 使用示例 (Examples)

### 股票分析:
```
NVDA 入场点?
PLTR 可以买吗?
今天交易什么好?
```

### 买入:
```
buy NVDA 145.50 10 EMA Crossover
buy PLTR 82.30 5 Volume Breakout
```

### 卖出:
```
sell NVDA 150.25
sell PLTR 85.10
```

### 通用问题:
```
什么是 RSI?
如何看 EMA 交叉?
今天美股怎么样?
```

---

## 🔮 明天计划 (Tomorrow: IBKR Integration)

### 将集成 Interactive Brokers:

**功能:**
1. ✅ 实时查看 IBKR 账户余额
2. ✅ 查看当前持仓 (自动从 IBKR 拉取)
3. ✅ 查看今日盈亏
4. ✅ **自动交易:** AI 推荐 → 确认 → IBKR 执行
5. ✅ 实时账户数据同步

**需要准备:**
- IBKR Pro 账户登录信息
- 启用 API 交易权限
- 安装 IB Gateway 或 Trader Workstation

**自动交易流程:**
```
你: NVDA 入场点?
AI: 📊 NVDA 分析
    入场: $145.50
    目标: $150.00
    止损: $142.00
    
    [确认买入 10 股] 按钮
    
你点击确认 → IBKR 自动执行 → 显示订单状态
```

---

## 📊 文件说明

**自动生成的数据文件:**
- `geewoni_config.json` - 账户配置 (盈亏, 目标, 优先股票)
- `trades_history.json` - 所有交易历史
- `strategies.json` - 策略表现数据
- `ai_learning.json` - AI 学习数据 🆕

**不要删除这些文件!** 包含所有历史数据和 AI 学习成果。

---

## 🚀 如何运行

```bash
py -3.12 telegram_bot_enhanced.py
```

---

## 💡 AI 学习示例

**第 1 周:**
```
/learn
📚 AI 学习总结
📊 推荐统计:
- 总推荐: 15
- 跟随率: 60.0%
- 成功率: 0% (0/0)  ← 还没平仓

🎯 AI 学到的最佳设置:
- RSI 范围: 40 - 60
- 成交量倍数: >1.5x
- 最佳策略: 学习中

💡 成功模式数量: 0
```

**第 4 周 (AI 已学习):**
```
/learn
📚 AI 学习总结
📊 推荐统计:
- 总推荐: 87
- 跟随率: 72.4%
- 成功率: 68.3% (41/60)  ← 胜率提升!

🎯 AI 学到的最佳设置:
- RSI 范围: 45 - 58  ← 优化了!
- 成交量倍数: >2.1x  ← 发现更好的参数
- 最佳策略: EMA Crossover, Volume Breakout

💡 成功模式数量: 41
```

AI 会用这些学习成果来优化下一次推荐!

---

## 🎯 重点股票 (Current Focus)

你的重点股票:
- NVDA (Nvidia)
- PLTR (Palantir)
- RKLB (Rocket Lab)
- SOFI (SoFi)
- OKLO (Oklo)
- MP (MP Materials)
- BMNR (???需确认代码)

AI 会在早盘摘要中优先分析这些股票。

---

## ⚠️ 重要提示

1. **市场时间:** 美股交易时间 9:30 AM - 4:00 PM EST (马来西亚 9:30 PM - 4:00 AM)
2. **数据来源:** Yahoo Finance (免费, 有时会延迟)
3. **AI 推荐:** 仅供参考, 自己判断风险
4. **止损:** 永远设置止损! AI 会推荐止损价格

---

## 📞 Support

有问题随时问! 明天我们继续整合 IBKR 自动交易。

---

**Version:** 7.0  
**Last Updated:** 2025-02-07  
**Next Update:** IBKR Integration (Tomorrow)
